apply plugin: 'java'
apply plugin: 'application'
apply plugin: 'eclipse'

sourceCompatibility = 1.6
targetCompatibility = 1.6

repositories { mavenCentral() }

dependencies {
	compile group: 'log4j', name: 'log4j', version: '1.2.17'
	compile fileTree(dir: 'lib', include: ['*.jar'])
	//runtime files('src/dist/config')
	
}

task wrapper(type: Wrapper) {
    gradleVersion = "3.0"
}


startScripts {
  classpath += files('src/dist/XxxAPlaceHolderForAConfigxxX')
  doLast {
    def windowsScriptFile = file getWindowsScript()
    def unixScriptFile    = file getUnixScript()
    windowsScriptFile.text = windowsScriptFile.text.replace('%APP_HOME%\\lib\\XxxAPlaceHolderForAConfigxxX', '%APP_HOME%\\config')
    unixScriptFile.text  = unixScriptFile.text.replace('$APP_HOME/lib/XxxAPlaceHolderForAConfigxxX', '$APP_HOME/config')
  }
}

mainClassName = 'com.agile.custom.UpdateAgileAttributes'
applicationDefaultJvmArgs = ["-Xmx512m", "-Xms512m"]
startScripts { applicationName = "run" }
